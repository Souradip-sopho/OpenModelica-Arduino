gcc -c -Wall -Werror -fPIC filename.c
gcc -shared -o libfilename.so file1.o file2.o ....
